require("dotenv").config("../../../");let GoogleGenerativeAI=require("@google/generative-ai").GoogleGenerativeAI,StatusCodes=require("http-status-codes").StatusCodes,API_KEY=(require("http-status-codes").StatusCodes,process.env.GEMINI_API_KEY),genAI=new GoogleGenerativeAI(API_KEY),generateMCQ=async(e,t)=>{var o=e.body.num_Questions||"",e=e.body.text,o=`
Create a list of ${o} multiple choice questions based on the following text. Each question must have:
1. A "Question" (the generated question text).
2. Four "options" labeled as "A", "B", "C", and "D".
3. The "correct_answer" that matches one of the options.


Return the output in a valid JSON format with the following structure:
{
  "question_list": [
    {
      "id": "Q1",
      "Question": "Generated question here",
      "options": {
        "A": "Option A text",
        "B": "Option B text",
        "C": "Option C text",
        "D": "Option D text"
      },
      "correct_answer": "A" // or "B", "C", "D"
    },
    {
      "id": "Q2",
      "Question": "Generated question here",
      "options": {
        "A": "Option A text",
        "B": "Option B text",
        "C": "Option C text",
        "D": "Option D text"
      },
      "correct_answer": "B" // or "A", "C", "D"
    }
  ]
}
  Here is the text must be generated MCQ ${e}
`,e=genAI.getGenerativeModel({model:"gemini-2.0-flash-exp",generationConfig:{temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"text/plain"}}).startChat({history:[]});try{var n=await e.sendMessage(o);return console.log(n.response.text()),n.response.text()}catch(e){console.error("Lá»—i:",e)}};module.exports={generateMCQ:generateMCQ};